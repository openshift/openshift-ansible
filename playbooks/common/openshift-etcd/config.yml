---
- name: Configure etcd
  hosts: oo_etcd_to_config
  vars:
    etcd_certificates_ca_host: "{{ groups.oo_etcd_to_config.0 }}"
    etcd_certificates_etcd_hosts: "{{ groups.oo_etcd_to_config | default([], true) }}"
    etcd_certificates_hostname: "{{ openshift.common.hostname }}"
    etcd_peers: "{{ groups.oo_etcd_to_config }}"
  roles:
  - role: openshift_etcd
  - role: nickhammond.logrotate
