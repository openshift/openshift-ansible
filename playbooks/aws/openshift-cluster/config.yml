---
- hosts: localhost
  gather_facts: no
  vars_files:
  - vars.yml
  tasks:
  - set_fact:
      g_ssh_user_tmp: "{{ deployment_vars[deployment_type].ssh_user }}"
      g_sudo_tmp: "{{ deployment_vars[deployment_type].sudo }}"

- include: ../../common/openshift-cluster/config.yml
  vars:
    g_etcd_group: "{{ 'tag_env-host-type_' ~ cluster_id ~ '-openshift-etcd' }}"
    g_lb_group: "{{ 'tag_env-host-type_' ~ cluster_id ~ '-openshift-lb' }}"
    g_masters_group: "{{ 'tag_env-host-type_' ~ cluster_id ~ '-openshift-master' }}"
    g_nodes_group: "{{ 'tag_env-host-type_' ~ cluster_id ~ '-openshift-node' }}"
    g_ssh_user: "{{ hostvars.localhost.g_ssh_user_tmp }}"
    g_sudo: "{{ hostvars.localhost.g_sudo_tmp }}"
    g_nodeonmaster: true
    openshift_cluster_id: "{{ cluster_id }}"
    openshift_debug_level: "{{ lookup('oo_option', 'openshift_debug_level') | default('2', True) }}"
    openshift_deployment_type: "{{ deployment_type }}"
    openshift_hostname: "{{ ec2_private_ip_address }}"
    openshift_public_hostname: "{{ ec2_ip_address }}"
