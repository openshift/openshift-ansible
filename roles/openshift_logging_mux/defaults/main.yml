---
### General logging settings
openshift_logging_mux_image_prefix: "{{ openshift_hosted_logging_deployer_prefix | default('docker.io/openshift/origin-') }}"
openshift_logging_mux_image_version: "{{ openshift_hosted_logging_deployer_version | default('latest') }}"
openshift_logging_mux_image_pull_secret: "{{ openshift_hosted_logging_image_pull_secret | default('') }}"
openshift_logging_mux_master_url: "https://kubernetes.default.svc.{{ openshift.common.dns_domain }}"
openshift_logging_mux_master_public_url: "{{ openshift_hosted_logging_master_public_url | default('https://' + openshift.common.public_hostname + ':' ~ (openshift_master_api_port | default('8443', true))) }}"
openshift_logging_mux_namespace: logging

### Common settings
openshift_logging_mux_nodeselector: "{{ openshift_hosted_logging_mux_nodeselector_label | default('') | map_from_pairs }}"
openshift_logging_mux_cpu_limit: 500m
openshift_logging_mux_memory_limit: 1Gi
openshift_logging_mux_cpu_request: 100m
openshift_logging_mux_memory_request: 1Gi

openshift_logging_mux_replicas: 1

# Destination for the application based logs
openshift_logging_mux_app_host: "logging-es"
openshift_logging_mux_app_port: 9200
# Destination for the operations based logs
openshift_logging_mux_ops_host: "{{ openshift_logging_mux_app_host }}"
openshift_logging_mux_ops_port: "{{ openshift_logging_mux_app_port }}"

### Used by "hosted" and "secure-aggregator" deployments
openshift_logging_mux_use_journal: "{{ openshift_hosted_logging_use_journal | default('') }}"
openshift_logging_mux_journal_source: "{{ openshift_hosted_logging_journal_source | default('') }}"
openshift_logging_mux_journal_read_from_head: "{{ openshift_hosted_logging_journal_read_from_head | default('') }}"

openshift_logging_mux_allow_external: False
openshift_logging_mux_hostname: "{{ 'mux.' ~ (openshift_master_default_subdomain | default('router.default.svc.cluster.local', true)) }}"
openshift_logging_mux_port: 24284
# the namespace to use for undefined projects should come first, followed by any
# additional namespaces to create by default - users will typically not need to set this
openshift_logging_mux_default_namespaces: ["mux-undefined"]
# extra namespaces to create for mux clients - users will need to set this
openshift_logging_mux_namespaces: []

openshift_logging_mux_app_client_cert: /etc/fluent/keys/cert
openshift_logging_mux_app_client_key: /etc/fluent/keys/key
openshift_logging_mux_app_ca: /etc/fluent/keys/ca
openshift_logging_mux_ops_client_cert: /etc/fluent/keys/cert
openshift_logging_mux_ops_client_key: /etc/fluent/keys/key
openshift_logging_mux_ops_ca: /etc/fluent/keys/ca

# following can be uncommented to provide values for configmaps -- take care when providing file contents as it may cause your cluster to not operate correctly
#mux_config_contents:
#mux_throttle_contents:
#mux_secureforward_contents:
