---
openshift_azure_clusterid: "{{ openshift_clusterid | default('default') }}"

openshift_azure_image_build_base: "{{ not (openshift_node_bootstrap | default(False)) }}"
openshift_azure_base_image: "{{ openshift_azure_clusterid }}_base-{{ lookup('pipe', 'date +%Y%m%d%H%M%S') }}"
openshift_azure_image: "{{ openshift_azure_clusterid }}-{{ lookup('pipe', 'date +%Y%m%d%H%M%S') }}"
openshift_azure_image_tags: {}


openshift_azure_create_resource_group: True
openshift_azure_resource_group_name: "{{ openshift_azure_clusterid }}"

openshift_azure_resource_location: eastus

openshift_azure_storage_account_name: "{{ openshift_azure_clusterid }}"
openshift_azure_storage_account_container: images
openshift_azure_storage_account_type: Standard_LRS
openshift_azure_subnet_prefix: 172.31.48.0/20
openshift_azure_virtual_network_address_prefixes:
- 172.31.48.0/20
- 172.31.32.0/20
- 172.31.16.0/20

# network
openshift_azure_virtual_network_name: "{{ openshift_azure_clusterid }}"

# public IPs
openshift_azure_public_ip_alloc_method: Static
openshift_azure_public_ips:
- name: "{{ openshift_azure_clusterid }}"
  resource_group: "{{ openshift_azure_resource_group_name }}"
  alloc_method: "{{ openshift_azure_public_ip_alloc_method }}"

# securitygroups
openshift_azure_sg_name: "{{ openshift_azure_clusterid }}"
openshift_azure_sg_rules:
- name: SSH
  protocol: Tcp
  destination_port_range: 22
  access: Allow
  priority: 101
  direction: Inbound

# networkinterface
openshift_azure_subnet_name: "{{ openshift_azure_clusterid }}"
openshift_azure_nw_interfaces:
- name: "{{ openshift_azure_clusterid }}"
  resource_group: "{{ openshift_azure_resource_group_name }}"
  virtual_network: "{{ openshift_azure_virtual_network_name }}"
  subnet: "{{ openshift_azure_subnet_name }}"
  public_ip: "{{ openshift_azure_public_ips[0].name }}"
  security_group: "{{ openshift_azure_sg_name }}"

# vm settings
openshift_azure_vm_name: "{{ openshift_azure_clusterid }}"
openshift_azure_vm_admin_username: openshift
openshift_azure_vm_ssh_pw_enabled: "{{ True if openshift_azure_vm_admin_password is defined else False }}"
openshift_azure_vm_image:
  name: "{{ openshift_azure_base_image }}"
  resource_group: "{{ openshift_azure_base_image_ns | default(openshift_azure_resource_group_name) }}"

openshift_azure_vm_data_disks:
- managed_disk_type: Premium_LRS
  disk_size_gb: 100
  storage_container_name: images
  caching: ReadOnly
  storage_blob_name: "{{ openshift_azure_vm_storage_blob }}"
  storage_account_name: "{{ openshift_azure_storage_account_name }}"

openshift_azure_vm_storage_container: "{{ openshift_azure_clusterid }}"

openshift_azure_vm_ssh_public_keys: []
#- path: /root/.ssh/authorized_keys
#  key_data: "{{ openshift_azure_public_ssh_key }}"

openshift_azure_vm_size: Standard_D4s_v3
