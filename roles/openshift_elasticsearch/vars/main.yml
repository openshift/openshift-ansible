---
__latest_es_version: "3_5"
__allowed_es_versions: ["3_5", "3_6"]
__allowed_es_roles: ["clientdata", "master", "elasticsearch-init"]

# Helper
client_binary: oc

# TODO: integrate these
#openshift_master_config_dir: "{{ openshift.common.config_base }}/master"
es_masters_quorum: "{{ es_node_topology.masters.replicas |int /2 + 1 }}"
es_node_quorum: "{{openshift_elasticsearch_cluster_size|int/2 + 1}}"
es_min_masters_default: "{{ (openshift_elasticsearch_cluster_size | int / 2 | round(0,'floor') + 1) | int }}"
es_min_masters: "{{ (openshift_elasticsearch_cluster_size == 1) | ternary(1, es_min_masters_default)}}"
es_recover_after_nodes: "{{openshift_elasticsearch_cluster_size|int - 1}}"
es_recover_expected_data_nodes: "{{ es_node_topology.clientdata|length }}"
es_recover_expected_nodes: "{{openshift_elasticsearch_cluster_size|int}}"
