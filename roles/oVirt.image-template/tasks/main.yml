---
- name: Fail when invalid parameters
  fail:
    msg: "You must either specify ovirt_qcow_url or ovirt_glance_image"
  when: "ovirt_glance_image is defined and ovirt_qcow_url is defined"

- name: Image upload
  include_tasks: "{{ (ovirt_glance_image is defined) | ternary('glance', 'qcow2') }}_image.yml"
