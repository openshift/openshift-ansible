---
- name: creating route53 zone
  route53_zone:
    comment: "{{ l_dns_dict_item.value['zone'] }}"
    state: present
    vpc_id: "{{ (l_dns_dict_item.key == 'internal') | ternary(vpcout.vpcs.0.id,'') }}"
    vpc_region: "{{ openshift_aws_region }}"
    zone: "{{ l_dns_dict_item.value['zone'] }}"
  register: zone

- name: creating route53 record
  include_tasks: dns_route53_record.yml
  with_items: "{{ l_dns_dict_item.value['records'] }}"
  loop_control:
    loop_var: l_dnsrecords_dict_item
