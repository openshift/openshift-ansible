---
# runc, docker, host
r_etcd_common_etcd_runtime: "docker"

# etcd server vars
r_etcd_common_conf_dir: "{{ '/etc/etcd' if r_etcd_common_etcd_runtime != 'runc' else '/var/lib/etcd/etcd.etcd/etc'  }}"
r_etcd_common_system_container_conf_dir: /var/lib/etcd/etc
r_etcd_common_conf_file: "{{ r_etcd_common_conf_dir }}/etcd.conf"
r_etcd_common_ca_file: "{{ r_etcd_common_conf_dir }}/ca.crt"
r_etcd_common_cert_file: "{{ r_etcd_common_conf_dir }}/server.crt"
r_etcd_common_key_file: "{{ r_etcd_common_conf_dir }}/server.key"
r_etcd_common_peer_ca_file: "{{ r_etcd_common_conf_dir }}/ca.crt"
r_etcd_common_peer_cert_file: "{{ r_etcd_common_conf_dir }}/peer.crt"
r_etcd_common_peer_key_file: "{{ r_etcd_common_conf_dir }}/peer.key"

# etcd ca vars
r_etcd_common_ca_dir: "{{ r_etcd_common_conf_dir}}/ca"
r_etcd_common_generated_certs_dir: "{{ r_etcd_common_conf_dir }}/generated_certs"
r_etcd_common_ca_cert: "{{ r_etcd_common_ca_dir }}/ca.crt"
r_etcd_common_ca_key: "{{ r_etcd_common_ca_dir }}/ca.key"
r_etcd_common_openssl_conf: "{{ r_etcd_common_ca_dir }}/openssl.cnf"
r_etcd_common_ca_name: etcd_ca
r_etcd_common_req_ext: etcd_v3_req
r_etcd_common_ca_exts_peer: etcd_v3_ca_peer
r_etcd_common_ca_exts_server: etcd_v3_ca_server
r_etcd_common_ca_exts_self: etcd_v3_ca_self
r_etcd_common_ca_exts_client: etcd_v3_ca_client
r_etcd_common_ca_crl_dir: "{{ r_etcd_common_ca_dir }}/crl"
r_etcd_common_ca_new_certs_dir: "{{ r_etcd_common_ca_dir }}/certs"
r_etcd_common_ca_db: "{{ r_etcd_common_ca_dir }}/index.txt"
r_etcd_common_ca_serial: "{{ r_etcd_common_ca_dir }}/serial"
r_etcd_common_ca_crl_number: "{{ r_etcd_common_ca_dir }}/crlnumber"
r_etcd_common_ca_default_days: 1825

# etcd server & certificate vars
etcd_hostname: "{{ inventory_hostname }}"
etcd_ip: "{{ ansible_default_ipv4.address }}"
r_etcd_common_is_atomic: False
r_etcd_common_is_containerized: False
r_etcd_common_is_thirdparty: False

# etcd dir vars
r_etcd_common_data_dir: /var/lib/etcd/

# etcd ports and protocols
r_etcd_common_client_port: 2379
r_etcd_common_peer_port: 2380
r_etcd_common_url_scheme: http
r_etcd_common_peer_url_scheme: http
