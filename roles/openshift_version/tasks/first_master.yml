---
# Determine the openshift_version to configure if none has been specified or set previously.

# Protect the installed version by default unless explicitly told not to, or given an
# openshift_version already.
- name: Use openshift.common.version fact as version to configure if already installed
  set_fact:
    openshift_version: "{{ openshift.common.version }}"
  when:
  - openshift.common.version is defined
  - openshift_version is not defined or openshift_version == ""
  - openshift_protect_installed_version | bool

- include_tasks: "{{ l_first_master_version_task_file }}"

# The end result of these variables is quite important so make sure they are displayed and logged:
- debug:
    var: openshift_release

- debug:
    var: openshift_version

- debug:
    var: openshift_image_tag

- debug:
    var: openshift_pkg_version
