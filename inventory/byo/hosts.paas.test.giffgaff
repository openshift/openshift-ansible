# Create an OSEv3 group that contains the masters and nodes groups
[OSEv3:children]
masters
nodes
etcd
#infras

# Set variables common for all OSEv3 hosts
[OSEv3:vars]
# SSH user, this user should allow ssh based auth without requiring a password
ansible_ssh_user=centos
openshift_release=v3.6.1

openshift_giffgaff_environment="test"
openshift_master_cluster_method=native
openshift_master_cluster_public_hostname=openshift.test.gaff.systems
#openshift_master_cluster_hostname=openshift-internal.test.gaff.systems


# Disable service catalog
openshift_enable_service_catalog=false


# If ansible_ssh_user is not root, ansible_become must be set to true
ansible_become=true
openshift_deployment_type=origin
openshift_cloudprovider_kind=aws
openshift_clusterid=paas-test
deployment_type=origin

openshift_use_dnsmasq=true

#master vars
openshift_master_api_url=
openshift_master_public_console_url="https://openshift.test.gaff.systems/console"
openshift_master_public_api_url="https://openshift.test.gaff.systems"
openshift_master_default_subdomain=test.gaff.systems

# default project node selector
osm_default_node_selector='region=primary'

# OpenShift Router Options
openshift_hosted_router_selector='region=infra'
openshift_registry_selector='region=infra'
openshift_hosted_router_force_subdomain='${name}${namespace}.test.gaff.systems'

# Enable API service auditing, available as of 3.2
openshift_master_audit_config='{"enabled": true}'

# logging vars
openshift_logging_install_logging=true

#openshift_hosted_logging_deploy=true
openshift_hosted_logging_elasticsearch_cluster_size=1
openshift_logging_namespace=logging
openshift_logging_master_public_url=https://openshift.test.gaff.systems

openshift_logging_image_version=v3.6

openshift_logging_curator_default_days=7
openshift_logging_curator_nodeselector={"region":"infra"}
openshift_logging_kibana_nodeselector={"region":"infra"}
openshift_logging_es_nodeselector={"region":"infra"}
openshift_logging_fluentd_nodeselector={"region":"infra"}
openshift_logging_kibana_replica_count=1
openshift_logging_es_allows_cluster_reader=true



openshift_clock_enabled=true

openshift_hosted_logging_deployer_prefix=docker.io/openshift/origin-
openshift_hosted_logging_deployer_version=v1.5.1

# uncomment the following to enable htpasswd authentication; defaults to DenyAllPasswordIdentityProvider
openshift_master_identity_providers='[{"name": "giffgaffokta_test", "login": "true", "challenge": "false", "mappingMethod": "claim", "kind": "OpenIDIdentityProvider", "client_id": "0oa1hmij3ygRPX6Sj0i7", "client_secret": "jB3P7pi0PaPyOl2RNV80GkkcDYfKVz9Ktzi_NcVg", "extraScopes": ["email", "profile"], "claims": {"id": ["sub"], "preferredUsername": ["preferred_username"], "name": ["name"], "email": ["email"]}, "urls": {"authorize": "https://ggauth.okta-emea.com/oauth2/v1/authorize", "token": "https://ggauth.okta-emea.com/oauth2/v1/token", "userInfo": "https://ggauth.okta-emea.com/oauth2/v1/userinfo"} }]'



# host group for masters
[masters]
master01.test.gaff.systems
master02.test.gaff.systems
master03.test.gaff.systems

# host group for etcd
[etcd]
master01.test.gaff.systems
master02.test.gaff.systems
master03.test.gaff.systems

# host group for nodes, includes region info
[nodes]
node01.test.gaff.systems openshift_node_labels="{'region': 'primary', 'logging-infra-fluentd': 'true'}"
node02.test.gaff.systems openshift_node_labels="{'region': 'primary', 'logging-infra-fluentd': 'true'}"
node03.test.gaff.systems openshift_node_labels="{'region': 'primary', 'logging-infra-fluentd': 'true'}"

infra01.test.gaff.systems openshift_node_labels="{'region': 'infra', 'logging-infra-fluentd': 'true'}"
infra02.test.gaff.systems openshift_node_labels="{'region': 'infra', 'logging-infra-fluentd': 'true'}"
infra03.test.gaff.systems openshift_node_labels="{'region': 'infra', 'logging-infra-fluentd': 'true'}"


